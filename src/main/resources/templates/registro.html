<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="es">

<head th:replace="~{fragments/head :: head (pageTitle='CursosApp | Registro')}"></head>

<body>
    <header th:replace="~{fragments/header :: header}"></header>
    <nav th:replace="~{fragments/navbar :: navbar}"></nav>
    <main class="container d-flex flex-column align-items-center pb-5" style="margin-top: 100px;">
        <div th:if="${msg != null}" class='alert alert-success' th:text="${msg}" role='alert'></div>
        <div th:if="${msga != null}" class='alert alert-danger' th:text="${msga}" role='alert'></div>

        <div class="d-flex flex-column p-2 bg-secondary text-white rounded-4">
            <div class="text-center">
                <h2> Registro </h2>
                <h2 th:text="${titulo}" class="text-secondary"></h2>
            </div>
            <form class="d-flex flex-column" th:action="@{/usuarios/registrar}"  method="post" th:object="${usuario}">
                <div th:if="${#fields.hasErrors('*')}" class='alert alert-danger' role='alert'>
                    Por favor corrija los siguientes errores:
                    <ul>
                        <li th:each="err : ${#fields.errors('*')}" th:text="${err}"/>
                    </ul>
                </div>

                <div class="form-group d-flex flex-row align-items-center p-4">
                    <label class="p-2" for="nombre">Nombre</label>
                    <input type="text" class="form-control" th:field="*{nombre}" id="nombre" name="nombre" placeholder="Ingresar nombre" autofocus required>
                </div>
                <div class="form-group d-flex flex-row align-items-center p-4">
                    <label class="p-2" for="correo">Email</label>
                    <input type="email" class="form-control" th:field="*{correo}" id="correo" name="correo" placeholder="Ingresar email" required>
                </div>
                <div class="form-group d-flex flex-row align-items-center p-4">
                    <label class="p-2" for="clave">Contraseña</label>
                    <input type="password" class="form-control" th:field="*{clave}" id="clave" name="clave" placeholder="Ingresar Contraseña" required>
                </div>
                <div class="d-flex flex-column align-items-center">
                    <input class="btn btn-primary" type="submit" value="Registrarse"/>
                </div>

                <p class="text-center mt-3">
                    Ya tienes cuenta? <a class="text-black" th:href="@{/login}">Login</a>
                </p>
            </form>
        </div>
    </main>
    <footer th:replace="~{fragments/footer :: footer}"></footer>
</body>

</html>